<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Scaling Elmish App</title>
    <meta name="description" content="How to Scale Elmish App">
    <meta name="author" content="Kunjan Dalal">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="//code.jquery.com/jquery-1.8.0.js"></script>
    <script src="//code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css" id="theme">
    <link type="text/css" rel="stylesheet" href="fsharp.formatting/styles/style.css" />
    <link type="text/css" rel="stylesheet" href="fsharp.formatting/styles/deedle.css" />
    <link type="text/css" rel="stylesheet" href="css/custom.css" />
    <script src="fsharp.formatting/styles/tips.js" type="text/javascript"></script>
    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <link rel="stylesheet" href="css/fsreveal.css">
    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
    </script>
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
    <script language="javascript" type="text/javascript">
        function init()
        {
            websocket = new WebSocket("ws://"+window.location.host+"/websocket");
            websocket.onmessage = function(evt) { location.reload(); };
        }
        window.addEventListener("load", init, false);
    </script>
</head>
<body>
    <div class="reveal">
        <div class="tip" id="fs1">namespace Microsoft</div>
<div class="tip" id="fs2">namespace Microsoft.FSharp</div>
<div class="tip" id="fs3">namespace Microsoft.FSharp.Data</div>
<div class="tip" id="fs4">namespace Microsoft.FSharp.Data.UnitSystems</div>
<div class="tip" id="fs5">namespace Microsoft.FSharp.Data.UnitSystems.SI</div>
<div class="tip" id="fs6">namespace Microsoft.FSharp.Data.UnitSystems.SI.UnitNames</div>
<div class="tip" id="fs7">Multiple items<br />type MeasureAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; MeasureAttribute<br /><br />Full name: Microsoft.FSharp.Core.MeasureAttribute<br /><br />--------------------<br />new : unit -&gt; MeasureAttribute</div>
<div class="tip" id="fs8">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.printfn</div>
<div class="tip" id="fs9">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = System.String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs10">Multiple items<br />type ClassAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; ClassAttribute<br /><br />Full name: Microsoft.FSharp.Core.ClassAttribute<br /><br />--------------------<br />new : unit -&gt; ClassAttribute</div>

        <!-- Any section element inside of this container is displayed as a slide -->
        <div class="slides">
            <section data-background-image="images/22.png">
<div style="background:white;">
<br/>
<h2>Scaling Fable Elmish / Elm Application</h2>
<h3>A Experience Report</h3>
<br />
<h3>Kunjan Dalal</h3>
<h3>@kunjee</h3>
<br />
</div>
<aside class="notes">
Skip the Intro because of less time<br/>
</aside>
</section>
<section data-background-image="images/94.png">
<div style="background:white;">
<br/>
<h3>Slide Agenda</h3>
<ul>
<li><s>Intro to me</s></li>
<li>Intro to Fable &amp; Fable.Elmish</li>
<li><s>Intro to Elm</s></li>
<li><s>Basic Example</s></li>
<li>
<s>The Elm Architecture - TEA </s>
<!-- - Past - All the W question answered  -->
<!-- - Back End, Front End and more Front End -->
<!-- - The Model -->
<!-- - The View -->
<!-- - The Update -->
</li>
<li>Go Beyond Todo list</li>
<li>Why Elmish instead of Elm</li>
<li><s>External JS library in Fable Elmish </s></li>
<li><s>External React library in Fable Elmish </s></li>
<li>SAFE stack</li>
<li>Thank You Note</li>
</ul>
</div>
<aside class="notes">
This talk was around 45 mins but cut down due to other wonderful talk. So, I have to do tight editing on slides. We have lot to cover so let's get started. I am cutting down few basic stuff as you might already learn that in wonderful talks happens before this one<br/>
</aside>
</section>
<section >
<section >
<h3>Intro to Fable &amp; Fable Elmish</h3>
<blockquote>
<p>Fable is an F# to JavaScript compiler powered by Babel, designed to produce readable and standard code.</p>
</blockquote>
<p><br/></p>
<blockquote>
<p>Elmish implements core abstractions that can be used to build Fable applications following the “model view update” style of architecture, as made famous by Elm.</p>
</blockquote>
<aside class="notes">
There are two different things in Fable Elmish. Fable and Fable-Elmish or Elmish it self. Let's have a loot at both.<br/>
</aside>
</section>
<section >
<p><img src="images/fable_logo.png" alt="" /></p>
</section>
<section >
<h5>F# unit of Measure code</h5>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">module</span> <span class="i">Tour</span><span class="o">.</span><span class="i">UnitsOfMeasure</span>

    <span class="c">// From https://docs.microsoft.com/en-us/dotnet/fsharp/tour</span>
    <span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">Microsoft</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">FSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">Data</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="i">UnitSystems</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="i">SI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="i">UnitNames</span>

    <span class="k">let</span> <span class="i">sampleValue1</span> <span class="o">=</span> <span class="n">1600.0</span><span class="o">&lt;</span><span class="i">meter</span><span class="o">&gt;</span>

    [&lt;<span onmouseout="hideTip(event, 'fs7', 7)" onmouseover="showTip(event, 'fs7', 7)" class="i">Measure</span>&gt;]
    <span class="k">type</span> <span class="i">mile</span> <span class="o">=</span>
        <span class="k">static</span> <span class="k">member</span> <span class="i">asMeter</span> <span class="o">=</span> <span class="n">1609.34</span><span class="o">&lt;</span><span class="i">meter</span><span class="o">/</span><span class="i">mile</span><span class="o">&gt;</span>

    <span class="k">let</span> <span class="i">sampleValue2</span> <span class="o">=</span> <span class="n">500.0</span><span class="o">&lt;</span><span class="i">mile</span><span class="o">&gt;</span>

    <span class="k">let</span> <span class="i">sampleValue3</span> <span class="o">=</span> <span class="i">sampleValue2</span> <span class="o">*</span> <span class="i">mile</span><span class="o">.</span><span class="i">asMeter</span>

    <span onmouseout="hideTip(event, 'fs8', 8)" onmouseover="showTip(event, 'fs8', 8)" class="i">printfn</span> <span class="s">&quot;After a %f race I would walk %f miles</span>
<span class="s">            which would be %f meters&quot;</span> <span class="i">sampleValue1</span> <span class="i">sampleValue2</span> <span class="i">sampleValue3</span>
</code></pre></td>
</tr>
</table>
<aside class="notes">
Simple F# code with it's specific Unit of Measure feature. A tight guard against how you define units. Specially useful in Finance and Science / Mathematics obviously.<br/>
</aside>
</section>
<section >
<h5>Converted Java Script Code</h5>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="js">    import { toConsole, printf } from <span class="s">"fable-core/String"</span>;
    export <span class="k">const</span> sampleValue<span class="n">1</span> <span class="o">=</span> <span class="n">1600</span>;
    export <span class="k">function</span> mile$$$get_asMeter() {
    <span class="k">return</span> <span class="n">1609.34</span>;
    }
    export <span class="k">const</span> sampleValue<span class="n">2</span> <span class="o">=</span> <span class="n">500</span>;
    export <span class="k">const</span> sampleValue<span class="n">3</span> <span class="o">=</span> sampleValue<span class="n">2</span> <span class="o">*</span> mile$$$get_asMeter();
    toConsole(
        printf(<span class="s">"After a %f race I would walk %f miles which would be %f meters"</span>))
            (sampleValue<span class="n">1</span>)(sampleValue<span class="n">2</span>)(sampleValue<span class="n">3</span>);
</code></pre></td></tr></table>
<aside class="notes">
Look at this . A very readable JavaScript. Which then pass on to Bable to boil down to normal JavaScript which can be understood by browser.<br/>
</aside>
</section>
</section>
<section >
<section >
<h3>Elmish</h3>
<p><img src="images/elmish.png" alt="" /></p>
</section>
<section >
<h5>Elmish - Types</h5>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">type</span> <span class="i">Model</span> <span class="o">=</span>
        { <span class="i">Value</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs9', 9)" onmouseover="showTip(event, 'fs9', 9)" class="i">string</span> }

    <span class="k">type</span> <span class="i">Msg</span> <span class="o">=</span>
        | <span class="i">ChangeValue</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="i">string</span>
</code></pre></td>
</tr>
</table>
<aside class="notes">
Your routine model. With 1 property of type String. To change that we need to pass message of value string.<br/>
</aside>
</section>
<section >
<h5>Elmish - State</h5>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span class="i">init</span> () <span class="o">=</span> { <span class="i">Value</span> <span class="o">=</span> <span class="s">&quot;&quot;</span> }, <span class="i">Cmd</span><span class="o">.</span><span class="i">none</span>

    <span class="c">// UPDATE</span>

    <span class="k">let</span> <span class="i">update</span> (<span class="i">msg</span><span class="o">:</span><span class="i">Msg</span>) (<span class="i">model</span><span class="o">:</span><span class="i">Model</span>) <span class="o">=</span>
        <span class="k">match</span> <span class="i">msg</span> <span class="k">with</span>
        | <span class="i">ChangeValue</span> <span class="i">newValue</span> <span class="k">-&gt;</span>
            { <span class="i">Value</span> <span class="o">=</span> <span class="i">newValue</span> }, <span class="i">Cmd</span><span class="o">.</span><span class="i">none</span>
</code></pre></td>
</tr>
</table>
<aside class="notes">
Init is initializing with empty value and then update will take care of every change.<br/>
</aside>
</section>
<section >
<h5>Elmish - View</h5>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span class="i">view</span> <span class="i">model</span> <span class="i">dispatch</span> <span class="o">=</span>
        <span class="i">div</span> [ <span onmouseout="hideTip(event, 'fs10', 11)" onmouseover="showTip(event, 'fs10', 11)" class="i">Class</span> <span class="s">&quot;main-container&quot;</span> ]
            [ <span class="i">input</span> [ <span onmouseout="hideTip(event, 'fs10', 12)" onmouseover="showTip(event, 'fs10', 12)" class="i">Class</span> <span class="s">&quot;input&quot;</span>
                    <span class="i">Value</span> <span class="i">model</span><span class="o">.</span><span class="i">Value</span>
                    <span class="i">OnChange</span> (<span class="k">fun</span> <span class="i">ev</span> <span class="k">-&gt;</span> <span class="i">ev</span><span class="o">.</span><span class="i">target</span><span class="o">?</span><span class="i">value</span> <span class="o">|&gt;</span>
                                <span onmouseout="hideTip(event, 'fs9', 13)" onmouseover="showTip(event, 'fs9', 13)" class="i">string</span> <span class="o">|&gt;</span> <span class="i">ChangeValue</span> <span class="o">|&gt;</span> <span class="i">dispatch</span>) ]
            <span class="i">span</span> [ ]
                [ <span class="i">str</span> <span class="s">&quot;Hello, &quot;</span>
                <span class="i">str</span> <span class="i">model</span><span class="o">.</span><span class="i">Value</span>
                <span class="i">str</span> <span class="s">&quot;!&quot;</span> ] ]
</code></pre></td>
</tr>
</table>
<aside class="notes">
Here is simple view which takes the value, pass in to update and show the updated value.<br/>
</aside>
</section>
<section >
<h5>Elmish - Main</h5>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="c">// App</span>
    <span class="i">Program</span><span class="o">.</span><span class="i">mkProgram</span> <span class="i">init</span> <span class="i">update</span> <span class="i">view</span>
    <span class="o">|&gt;</span> <span class="i">Program</span><span class="o">.</span><span class="i">withConsoleTrace</span>
    <span class="o">|&gt;</span> <span class="i">Program</span><span class="o">.</span><span class="i">withReact</span> <span class="s">&quot;elmish-app&quot;</span>
    <span class="o">|&gt;</span> <span class="i">Program</span><span class="o">.</span><span class="i">run</span>
</code></pre></td>
</tr>
</table>
<aside class="notes">
And Here things wire up. So, as promised nothing different from your Elm application.<br/>
</aside>
</section>
</section>
<section >
<section >
<h3>What is SPA ?</h3>
<p><img src="images/Deathly_Hallows_Sign.svg" alt="" /></p>
<aside class="notes">
what promise was simple thing. html, js and css. And you know SPA. You know everything about it. But<br/>
</aside>
</section>
<section data-background-image="images/triangles.gif">
</section>
</section>
<section >
<section >
<h3>Let's look at a Normal Big Application</h3>
</section>
<section >
<p>Here will show code from my project - specifically how components are arranged. yet to decide gif or screen shot will be good option</p>
<p>Here there are two options. Either directly go to pointers one can take care about or explain in terms of model, update and view.</p>
</section>
<section >
<h3>Let's Talk about model</h3>
</section>
<section >
<h3>Let's Talk about update</h3>
</section>
<section >
<h3>Let's Talk about view</h3>
</section>
</section>
<section >
<section >
<h3>Why I chose Elmish instead of Elm ?</h3>
<p>A funny gif would be great here.</p>
<aside class="notes">
If everything is possible in Elm then why I choose Elmish? Let me explain how I see Elm and Elmish and then I ll explain why I choose one over another.<br/>
</aside>
</section>
<section >
<h3>What is Elm?</h3>
<p><img src="images/00-Mercedes-Benz-Design-Future-Bus.jpg" alt="" /></p>
</section>
<section >
<h3>Who all are in JavaScript / React Community?</h3>
<p><img src="images/holi.jpg" alt="" /></p>
</section>
<section >
<h3>What is Elmish?</h3>
<p><img src="images/banbus.jpg" alt="" /></p>
</section>
<section >
<p>React Quill and Izitoast example</p>
<aside class="notes">
Because of Time Constrain I can't go into details. But here are the examples on how you can easily integrate React or Pure JS component.<br/>
</aside>
</section>
</section>
<section >
<p>SAFE Stack</p>
<aside class="notes">
Honorary mention of SAFE Stack. What is safe stack and that matters ? Why writing everything in F# helps. Explain as per time.<br/>
</aside>
</section>
<section >
<p>Thank You Note</p>
<ul>
<li>A image or simple details ?</li>
</ul>
<aside class="notes">
Questions if time permits. Fuzzy Cloud link. Available for consulting. Cards available etc etc. Tweet to Fable Compiler or Tweet to me in case of feedback.<br/>
</section>


        </div>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script>
        // Add the nohighlight class and data-noescape attribute to code elements that have already been formatted by FSharp.Formatting
        $('pre.highlighted code').addClass('nohighlight').attr('data-noescape', '');

        // Full list of configuration options available here:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,

            transition: 'none', // default/cube/page/concave/zoom/linear/fade/none

            // Parallax scrolling
            // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
            // parallaxBackgroundSize: '2100px 900px',

            // Optional libraries used to extend on reveal.js
            dependencies: [
                { src: 'lib/js/classList.js', condition: function () { return !document.body.classList; } },
                { src: 'plugin/markdown/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: 'plugin/markdown/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },
                { src: 'plugin/zoom-js/zoom.js', async: true, condition: function () { return !!document.body.classList; } },
                { src: 'plugin/notes/notes.js', async: true, condition: function () { return !!document.body.classList; } }
            ]
        });

    </script>
</body>
</html>

